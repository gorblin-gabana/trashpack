<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TrashPack Wallet - Official Wallet of Gorbchain</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" href="icons/trashpack.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <div class="logo-container">
        <img src="icons/trashpack.png" alt="TrashPack Logo" class="hero-logo">
        <div class="logo-glow"></div>
      </div>
      
      <h1 class="hero-title">
        <span class="title-main">TrashPack</span>
        <span class="title-sub">Wallet</span>
      </h1>
      
      <p class="hero-tagline">
        The <span class="highlight-primary">official wallet</span> of <span class="highlight-secondary">Gorbchain</span>
      </p>
      
      <p class="hero-description">
        Born from the Gorbagana community, built with love for the chain, and now trusted by all Gorbites.
        <br><span class="secure-text">Secure. Open. Yours.</span>
      </p>
      
      <div class="hero-actions">
        <button id="main-action" class="btn-primary">
          <span class="btn-icon">🚀</span>
          <span class="btn-text">Add to Chrome</span>
        </button>
        <button id="demo-action" class="btn-secondary">
          <span class="btn-icon">🔗</span>
          <span class="btn-text">Connect Wallet</span>
        </button>
      </div>
      
      <div class="extension-status" id="extension-status" style="display: none;">
        <div class="status-indicator">
          <span class="status-icon">✅</span>
          <span class="status-text">TrashPack Extension Detected</span>
        </div>
      </div>
      
      <div class="official-badge">
        <span class="badge-text">Official Gorbchain Wallet</span>
      </div>
    </div>
    
    <!-- Floating Elements -->
    <div class="floating-elements">
      <div class="float-element float-1"></div>
      <div class="float-element float-2"></div>
      <div class="float-element float-3"></div>
    </div>
  </section>

  <!-- Features Section -->
  <section class="features">
    <div class="features-container">
      <h2 class="section-title">Why Choose TrashPack?</h2>
      
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">🛡️</div>
          <h3>Secure by Design</h3>
          <p>Military-grade encryption and secure key management protect your assets</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">⚡</div>
          <h3>Lightning Fast</h3>
          <p>Built for Gorbchain's speed with instant transactions and real-time updates</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">🔗</div>
          <h3>Cross-Chain Bridge</h3>
          <p>Seamlessly bridge between Solana and Gorbchain with competitive rates</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">👥</div>
          <h3>Community Built</h3>
          <p>Open source, community-driven development with transparency at its core</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">📱</div>
          <h3>User Friendly</h3>
          <p>Intuitive interface designed for both beginners and crypto veterans</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">🎯</div>
          <h3>DeFi Ready</h3>
          <p>Connect to your favorite DeFi apps and manage your portfolio with ease</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Community Quote -->
  <section class="quote-section">
    <div class="quote-container">
      <blockquote class="main-quote">
        "Someone in Gorbagana talked about TrashPack, loved it, built it. Now it's the official wallet!"
      </blockquote>
      <cite class="quote-author">- Gorbagana Community</cite>
    </div>
  </section>

  <!-- Get Started Section -->
  <section class="get-started">
    <div class="get-started-container">
      <h2 class="section-title">Ready to Get Started?</h2>
      <p class="get-started-text">Join thousands of users managing their Gorbchain assets with TrashPack</p>
      
             <div class="install-options">
         <div class="install-card featured" id="chrome-install">
           <div class="install-icon">🚀</div>
           <h3>Chrome Extension</h3>
           <p>Install from Chrome Web Store for the best experience</p>
           <button class="install-btn primary" data-action="chrome">Install Extension</button>
         </div>
         
         <div class="install-card" id="web-install">
           <div class="install-icon">💻</div>
           <h3>Web Version</h3>
           <p>Use directly in your browser without installation</p>
           <button class="install-btn" data-action="web">Open Web App</button>
         </div>
         
         <div class="install-card" id="github-install">
           <div class="install-icon">⚙️</div>
           <h3>From Source</h3>
           <p>Build from GitHub repository for developers</p>
           <button class="install-btn" data-action="github">View on GitHub</button>
         </div>
       </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-content">
        <div class="footer-logo">
          <img src="icons/trashpack.png" alt="TrashPack" class="footer-logo-img">
          <span class="footer-logo-text">TrashPack</span>
        </div>
        
        <div class="footer-links">
          <a href="https://github.com/gorblin-gabana/trashpack" target="_blank" class="footer-link">
            <span class="link-icon">📱</span>
            GitHub
          </a>
          <a href="#" class="footer-link">
            <span class="link-icon">📖</span>
            Documentation
          </a>
          <a href="#" class="footer-link">
            <span class="link-icon">💬</span>
            Community
          </a>
          <a href="https://trashpack.tech/privacy-policy" target="_blank" class="footer-link">
            <span class="link-icon">🔒</span>
            Privacy Policy
          </a>
        </div>
      </div>
      
      <div class="footer-bottom">
        <p>TrashPack Wallet is open source, secure, and built for the next era of Gorbchain.</p>
        <p class="footer-note">© 2024 TrashPack Wallet. Made with ❤️ by the Gorbagana community.</p>
      </div>
    </div>
  </footer>

  <script>
        // Browser detection and wallet detection
    function isChromeBrowser() {
      const ua = navigator.userAgent;
      return /Chrome|Chromium|Edg|Brave|Opera/.test(ua) && !/Firefox|Safari/.test(ua);
    }

    // Check if TrashPack extension is installed
    async function detectTrashPackExtension() {
      try {
        // Check if window.trashpack exists (injected by extension)
        if (window.trashpack || window.solana?.isTrashPack) {
          return true;
        }
        
        // Alternative check: try to detect extension via DOM
        return new Promise((resolve) => {
          const checkScript = document.createElement('script');
          checkScript.textContent = `
            if (window.trashpack || window.solana?.isTrashPack) {
              document.dispatchEvent(new CustomEvent('trashpack-detected'));
            }
          `;
          document.head.appendChild(checkScript);
          document.head.removeChild(checkScript);
          
          const timeout = setTimeout(() => resolve(false), 1000);
          
          document.addEventListener('trashpack-detected', () => {
            clearTimeout(timeout);
            resolve(true);
          }, { once: true });
        });
      } catch (error) {
        return false;
      }
    }

    async function connectToTrashPack() {
      try {
        if (window.trashpack?.connect) {
          await window.trashpack.connect();
          return true;
        } else if (window.solana?.isTrashPack) {
          await window.solana.connect();
          return true;
        }
        return false;
      } catch (error) {
        console.error('Failed to connect to TrashPack:', error);
        return false;
      }
    }

    async function setupActions() {
      const mainAction = document.getElementById('main-action');
      const demoAction = document.getElementById('demo-action');
      const installBtns = document.querySelectorAll('.install-btn');
      const extensionStatus = document.getElementById('extension-status');

      // Check for extension installation
      const isExtensionInstalled = await detectTrashPackExtension();
      
      if (isExtensionInstalled) {
        extensionStatus.style.display = 'block';
        demoAction.querySelector('.btn-text').textContent = 'Connect Extension';
        demoAction.querySelector('.btn-icon').textContent = '🔗';
      }

      // Main hero action - Always prioritize Chrome Web Store
      mainAction.querySelector('.btn-text').textContent = 'Add to Chrome';
      mainAction.onclick = () => {
        window.open('https://chromewebstore.google.com/detail/trashpack-wallet-extensio/jfchhdkblbdgmipgbkcejfpabnlfgpdf', '_blank');
      };

      // Smart wallet connection
      demoAction.onclick = async () => {
        if (isExtensionInstalled) {
          // Try to connect to extension first
          const connected = await connectToTrashPack();
          if (connected) {
            // Show success message
            demoAction.querySelector('.btn-text').textContent = 'Connected ✓';
            demoAction.style.background = 'rgba(34, 197, 94, 0.2)';
            demoAction.style.borderColor = '#22c55e';
            demoAction.style.color = '#22c55e';
            
            setTimeout(() => {
              demoAction.querySelector('.btn-text').textContent = 'Connect Extension';
              demoAction.style.background = '';
              demoAction.style.borderColor = '';
              demoAction.style.color = '';
            }, 2000);
          } else {
            // Fallback to web version
            window.open('../index.html', '_blank');
          }
        } else {
          // No extension detected, open web version
          window.open('../index.html', '_blank');
        }
      };

      // Install buttons
      installBtns.forEach(btn => {
                 btn.onclick = (e) => {
           const action = e.target.dataset.action;
           switch(action) {
             case 'chrome':
               window.open('https://chromewebstore.google.com/detail/trashpack-wallet-extensio/jfchhdkblbdgmipgbkcejfpabnlfgpdf', '_blank');
               break;
             case 'web':
               window.open('../index.html', '_blank');
               break;
             case 'github':
               window.open('https://github.com/gorblin-gabana/trashpack', '_blank');
               break;
           }
         };
      });
    }

    // Smooth scrolling for anchor links
    function setupSmoothScrolling() {
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });
    }

    // Floating animation
    function animateFloatingElements() {
      const floatElements = document.querySelectorAll('.float-element');
      floatElements.forEach((el, index) => {
        const delay = index * 0.5;
        const duration = 3 + (index * 0.5);
        el.style.animationDelay = `${delay}s`;
        el.style.animationDuration = `${duration}s`;
      });
    }

         // Initialize everything
     document.addEventListener('DOMContentLoaded', async () => {
       await setupActions();
       setupSmoothScrolling();
       animateFloatingElements();
     });
  </script>
</body>
</html>
